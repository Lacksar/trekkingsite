<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Himalayan Treks - Experience the Majesty</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <!-- For icons -->
    <style>
      /* Custom scrollbar (optional, requires browser support) */
      .scrollbar-thin::-webkit-scrollbar {
        height: 8px;
      }
      .scrollbar-thin::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
      }
      .scrollbar-thin::-webkit-scrollbar-thumb {
        background: #ca8a04; /* yellow-600 */
        border-radius: 10px;
      }
      .scrollbar-thin::-webkit-scrollbar-thumb:hover {
        background: #a16207; /* yellow-700 */
      }

      /* Subtle fade-in animation for sections (optional, can be triggered with JS for on-scroll) */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .fade-in-section {
        opacity: 0; /* Initially hidden */
        animation: fadeIn 0.8s ease-out forwards;
      }
      /* Delay for staggered animations if desired */
      .delay-1 {
        animation-delay: 0.2s;
      }
      .delay-2 {
        animation-delay: 0.4s;
      }
      .delay-3 {
        animation-delay: 0.6s;
      }

      /* Hero background image */
      .hero-bg {
        background-image: url("https://th.bing.com/th/id/R.26c4bc5b399faa6d1ee72397363cda3d?rik=vB%2bK95R913vaEA&pid=ImgRaw&r=0");
      }

    
    </style>
  </head>
  <body class="bg-white text-gray-800 antialiased">
    <!-- 1. Header Section -->
   <!-- 1. Header Section -->
<header id="home" class="relative min-h-screen md:min-h-[150vh]  flex flex-col overflow-hidden">
  <!-- Video Background -->
  <div class="absolute mt-20 inset-0 w-full h-full z-0">
      <video
          autoplay
          loop
          muted
          playsinline
          class="w-full h-full object-cover"
          poster="https://images.pexels.com/photos/2662116/pexels-photo-2662116.jpeg?auto=compress&cs=tinysrgb&w=1920&h=1080&dpr=1"
          id="hero-video"
      >
          <source src="https://cms.discoveryworldtrekking.com/media/965/discovery-himalaya-trekking.mp4" type="video/mp4" />
          <!-- Add more <source> tags for other video formats if needed (e.g., webm, ogg) -->
          Your browser does not support the video tag.
      </video>
  </div>

  <!-- Transparent Navigation Bar (remains the same) -->
  <nav class="absolute top-0 left-0 right-0 z-20 ">
    <div class="w-full sticky top-0 z-50" id="main-navigation-container">

      <!-- Top Announcement Bar -->
      <div class="bg-blue-700 text-center py-2 px-4">
        <p class="text-sm text-yellow-300 font-medium">
          Nepal Trek Booking Open For 2025/26
        </p>
      </div>
    
      <!-- Middle Bar: Logo & Quick Contacts -->
      <div class="bg-white shadow-md py-3 px-6 min-h-24">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
          <a href="/index.html#home" class="text-2xl md:text-3xl font-bold tracking-tight text-gray-800"> <!-- Changed to root-relative path -->
            Himalayan<span class="text-yellow-500">Peaks</span>
            <!-- <img src="/images/logo.png" alt="Himalayan Peaks Logo" class="h-10 md:h-12"> --> <!-- Example with root-relative path -->
          </a>
          <div class="flex flex-col md:flex-row items-center space-x-3 md:space-x-6">
            <div class="text-right sm:block">
              <p class="text-xs text-gray-500">Quick Questions? Email Us</p>
              <a href="mailto:info@himalayanpeaks.com" class="text-xl md:text-2xl text-gray-700 hover:text-yellow-600 font-medium">info@himalayanpeaks.com</a>
            </div>
            <div class="flex items-center">
              <img src="https://th.bing.com/th/id/R.95e45a66c918a53280e796b44add2d66?rik=oVKQ59XBdewj8Q&pid=ImgRaw&r=0" alt="Travel Expert Paul" class="w-8 h-8 md:w-10 md:h-10 rounded-full border-2 border-yellow-500 object-cover mr-2 hidden md:block">
              <!-- IMPORTANT: Replace with actual path. Using root-relative /images/ -->
              <div class="text-right">
                <p class="hidden md:block text-xs text-gray-500">Talk to an Travel Expert (Paul)</p>
                <a href="https://wa.me/9779840055491" target="_blank" class="text-2xl md:text-2xl text-gray-700 hover:text-yellow-600 font-medium flex items-center justify-end">
                  <i class="fab fa-whatsapp text-green-500 mr-1 text-xl md:text-lg"></i>
                  +977 9840055491
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- ... your existing nav content ... -->
      <div class=" mx-auto flex justify-between items-center py-4 bg-blue-600">
      
        <div class="hidden  md:flex mx-auto font-bold  space-x-8 text-xl">
          <!-- <a
            href="/index.html"
            class="text-white hover:text-yellow-400 transition-colors duration-300"
            >Home</a
          > -->
          <a
            href="#destinations"
            class="text-white  hover:text-yellow-400 transition-colors duration-300"
            >DESTINATION</a
          >
          <a
          href="#destinations"
          class="text-white hover:text-yellow-400 transition-colors duration-300"
          >TREKKING</a
        >
        <a
        href="#destinations"
        class="text-white hover:text-yellow-400 transition-colors duration-300"
        >TOURS</a
      >
      <a
      href="#destinations"
      class="text-white hover:text-yellow-400 transition-colors duration-300"
      >PEAK CLIMBING</a
    >
    <a
    href="#destinations"
    class="text-white hover:text-yellow-400 transition-colors duration-300"
    >TRAVEL INFORMATION</a
  >
  <a
  href="#destinations"
  class="text-white hover:text-yellow-400 transition-colors duration-300"
  >COMPANY INFORMATION</a
>
          <!-- <a
            href="#reviews"
            class="text-white hover:text-yellow-400 transition-colors duration-300"
            >REVIEWS</a
          > -->
          <a
            href="#contact"
            class="text-white hover:text-yellow-400 transition-colors duration-300"
            >CONTACT US</a>
        </div>
        <!-- Mobile Menu Button (requires JS for functionality) -->
        <button
          id="mobile-menu-button"
          class="md:hidden text-white focus:outline-none"
        >
          <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
          </svg>
        </button>
    </div>
</nav>

<!-- Mobile Menu Panel - This is the overlay that opens -->
<div
    id="mobile-menu"
    class="hidden md:hidden fixed inset-0 bg-black bg-opacity-95 z-50 p-4 flex flex-col items-center justify-center" {/* Changed to fixed, inset-0, bg-opacity-95, and centering content */}
>
   
<button
id="mobile-menu-close-button"
хронически     class="absolute top-6 right-6 text-white text-4xl hover:text-yellow-400 focus:outline-none"
onclick="document.getElementById('mobile-menu').classList.add('hidden'); document.body.style.overflow = '';"
>
×
</button>

   
    <div class="flex flex-col gap-6 text-center"> {/* Increased gap */}
        <!-- <a href="/index.html" class="text-white text-2xl block hover:text-yellow-400 transition-colors duration-300">Home</a> -->
        <a href="#destinations" class="text-white text-2xl block hover:text-yellow-400 transition-colors duration-300">Destinations</a>
        <a href="#destinations" class="text-white text-2xl block hover:text-yellow-400 transition-colors duration-300">Trekking</a>
        <a href="#destinations" class="text-white text-2xl block hover:text-yellow-400 transition-colors duration-300">Tour</a>
        <a href="#destinations" class="text-white text-2xl block hover:text-yellow-400 transition-colors duration-300">Peak Climbing</a>
        <a href="#destinations" class="text-white text-2xl block hover:text-yellow-400 transition-colors duration-300">Travel Information</a>
        <a href="#destinations" class="text-white text-2xl block hover:text-yellow-400 transition-colors duration-300">Company Information</a>
        <a href="#reviews" class="text-white text-2xl block hover:text-yellow-400 transition-colors duration-300">Reviews</a>
        <a href="#contact" class="text-white text-2xl block hover:text-yellow-400 transition-colors duration-300">Contact Us</a>
    </div>
</div>

  <!-- Overlay (remains the same) -->
  <div class="absolute inset-0 bg-black bg-opacity-50 z-10"></div>

  <!-- Hero Content (remains the same, but now z-10 to be above video overlay) -->
  <div
      class="relative z-10 flex-grow flex mt-64 flex-col items-center justify-center text-center px-4"
    >
      <!-- ... your existing hero h1, p, and button ... -->
      <h1
        class="text-5xl md:text-7xl lg:text-8xl text-white font-extrabold mb-6 drop-shadow-lg fade-in-section"
      >
        Experience the Majesty <br class="hidden md:block" />of the Himalayas
      </h1>
      <p
        class="text-lg md:text-xl text-yellow-100 mb-10 max-w-2xl drop-shadow-md fade-in-section delay-1"
      >
        Embark on unforgettable journeys through breathtaking landscapes and
        ancient cultures.
      </p>
      <a
        href="#destinations"
        class="bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-4 px-10 rounded-lg text-xl shadow-lg transform hover:scale-105 transition-all duration-300 fade-in-section delay-2"
      >
        Book Your Trek
      </a>
  </div>
</header>
    <!-- 2.5 Our Activities Section (NEW) -->
    <section id="our-activities" class="py-16 md:py-24 bg-white">
      <div class="container mx-auto px-6">
        <p class="text-center text-orange-500 font-semibold tracking-wider uppercase mb-2">OUR ACTIVITIES</p>
        <h2 class="text-4xl md:text-5xl font-bold text-center mb-4 text-gray-800">
          Explore your ways out...
        </h2>
        <p class="text-center text-gray-600 mb-12 md:mb-16 max-w-xl mx-auto">
          Find your path to adventure and lasting memories
        </p>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8">
          
          <!-- Activity Card 1: Climbing -->
          <a href="nepal-activities-by-category.html?category=peak_climbing"
             class="activity-promo-card relative block aspect-[3/4] rounded-2xl overflow-hidden shadow-lg group transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1.5">
            <img src="https://th.bing.com/th/id/OIP.wn2ORH9ycQ6twg_JN5MyyAHaFj?rs=1&pid=ImgDetMain" 
                 alt="Peak Climbing in Nepal" 
                 class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 ease-in-out group-hover:scale-105">
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"></div>
            <div class="absolute bottom-0 left-0 right-0 p-4 md:p-6">
              <h3 class="text-white text-center text-4xl md:text-4xl font-semibold tracking-tight drop-shadow-md">Climbing</h3>
            </div>
          </a>

          <!-- Activity Card 2: Nepal Helicopter Tours -->
          <a href="nepal-activities-by-category.html?category=helicopter_tours"
             class="activity-promo-card relative block aspect-[3/4] rounded-2xl overflow-hidden shadow-lg group transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1.5">
            <img src="https://th.bing.com/th/id/OIP.TzT1yMDMeE002Q0REYkvewHaEH?rs=1&pid=ImgDetMain" 
                 alt="Nepal Helicopter Tours" 
                 class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 ease-in-out group-hover:scale-105">
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"></div>
            <div class="absolute bottom-0 left-0 right-0 p-4 md:p-6">
              <h3 class="text-white text-center text-4xl md:text-4xl font-semibold tracking-tight drop-shadow-md">Nepal<br/>Helicopter Tours</h3>
            </div>
          </a>

          <!-- Activity Card 3: Tours -->
          <a href="nepal-activities-by-category.html?category=package_tours"
             class="activity-promo-card relative block aspect-[3/4] rounded-2xl overflow-hidden shadow-lg group transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1.5">
            <img src="https://th.bing.com/th/id/OIP.KPyHtaR1nVy6ZuWVxKejzgHaEX?rs=1&pid=ImgDetMain" 
                 alt="Cultural and Adventure Tours in Nepal" 
                 class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 ease-in-out group-hover:scale-105">
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"></div>
            <div class="absolute bottom-0 left-0 right-0 p-4 md:p-6">
              <h3 class="text-white text-center text-4xl md:text-4xl font-semibold tracking-tight drop-shadow-md">Tours</h3>
            </div>
          </a>

          <!-- Activity Card 4: Trekking -->
          <a href="nepal-activities-by-category.html?category=trekking_trips"
             class="activity-promo-card relative block aspect-[3/4] rounded-2xl overflow-hidden shadow-lg group transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1.5">
            <img src="https://th.bing.com/th/id/OIP.L1r1t3EtE4gvuwm1tYdqkQHaEe?rs=1&pid=ImgDetMain" 
                 alt="Trekking in Nepal Himalayas" 
                 class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 ease-in-out group-hover:scale-105">
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"></div>
            <div class="absolute bottom-0 left-0 right-0 p-4 md:p-6">
              <h3 class="text-white text-center text-4xl md:text-4xl font-semibold tracking-tight drop-shadow-md">Trekking</h3>
            </div>
          </a>

        </div>
      </div>
    </section>


        <!-- 2.6 Popular Trips Section (NEW) -->
          <!-- 2.6 Popular Trips Section (NEW) -->
    <section id="popular-trips" class="py-16 md:py-24 bg-gray-50">
      <div class="container mx-auto px-6">
        <h2 class="text-4xl md:text-5xl font-bold text-center mb-6 text-gray-800">
          Popular Trip Categories
        </h2>
        <p class="text-center text-gray-600 mb-12 md:mb-16 max-w-xl mx-auto">
          Choose your adventure from our most sought-after experiences in the Himalayas.
        </p>
        <div class="grid grid-cols-1 sm:grid-cols-2  gap-6 md:gap-8">
          
          <!-- Popular Trip Card 1: Trekking Trips -->
          <a href="nepal-activities-by-category.html?category=trekking_trips"
             class="popular-trip-card block rounded-lg overflow-hidden  transition-all duration-300 ease-out group transform  bg-white">
            <div class="h-60 overflow-hidden"> <!-- Fixed height for image container -->
              <img src="https://images.pexels.com/photos/1271619/pexels-photo-1271619.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1" 
                   alt="Trekking Trips" 
                   class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
                   loading="lazy"
                   onerror="this.onerror=null;this.src='https://images.pexels.com/photos/572897/pexels-photo-572897.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1';">
            </div>
            <div class="p-4 text-center">
              <h3 class="text-xl font-semibold text-gray-800 group-hover:text-yellow-600 transition-colors">Trekking Trips</h3>
            </div>
          </a>

          <!-- Popular Trip Card 2: Package Tour -->
          <a href="nepal-activities-by-category.html?category=package_tours"
          class="popular-trip-card block rounded-lg overflow-hidden  transition-all duration-300 ease-out group transform  bg-white">
            <div class="h-60 overflow-hidden"> <!-- Fixed height for image container -->
              <img src="https://images.pexels.com/photos/3889742/pexels-photo-3889742.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1" 
                   alt="Package Tours" 
                   class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
                   loading="lazy"
                   onerror="this.onerror=null;this.src='https://images.pexels.com/photos/2356045/pexels-photo-2356045.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1';">
            </div>
            <div class="p-4 text-center">
              <h3 class="text-xl font-semibold text-gray-800 group-hover:text-yellow-600 transition-colors">Package Tour</h3>
            </div>
          </a>

          <!-- Popular Trip Card 3: Peak Climbing -->
          <a href="nepal-activities-by-category.html?category=peak_climbing"
          class="popular-trip-card block rounded-lg overflow-hidden  transition-all duration-300 ease-out group transform  bg-white">
            <div class="h-60 overflow-hidden"> <!-- Fixed height for image container -->
              <img src="https://images.pexels.com/photos/618833/pexels-photo-618833.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1" 
                   alt="Peak Climbing" 
                   class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
                   loading="lazy"
                   onerror="this.onerror=null;this.src='https://images.pexels.com/photos/1563045/pexels-photo-1563045.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1';">
            </div>
            <div class="p-4 text-center">
              <h3 class="text-xl font-semibold text-gray-800 group-hover:text-yellow-600 transition-colors">Peak Climbing</h3>
            </div>
          </a>

          <!-- Popular Trip Card 4: Expeditions -->
          <a href="nepal-activities-by-category.html?category=nepal_expeditions"
          class="popular-trip-card block rounded-lg overflow-hidden  transition-all duration-300 ease-out group transform  bg-white">
            <div class="h-60 overflow-hidden"> <!-- Fixed height for image container -->
              <img src="https://images.pexels.com/photos/1655650/pexels-photo-1655650.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1"  
                   alt="Expeditions" 
                   class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
                   loading="lazy"
                   onerror="this.onerror=null;this.src='https://images.pexels.com/photos/112285/pexels-photo-112285.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=1';">
            </div>
            <div class="p-4 text-center">
              <h3 class="text-xl font-semibold text-gray-800 group-hover:text-yellow-600 transition-colors">Expeditions</h3>
            </div>
          </a>

        </div>
      </div>
    </section>




    <section id="best-nepal-treks" class="py-16 md:py-24 bg-white">
      <div class="container mx-auto px-6">
        <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-800 uppercase tracking-wider">
          NEPAL BEST TREKKING
        </h2>
        <h3 class="text-4xl md:text-5xl font-bold text-center mb-4 text-gray-800">
          TRIPS
        </h3>
        <div class="flex justify-center mb-12 md:mb-16">
          <span class="inline-block w-20 h-1 bg-blue-600 rounded"></span>
          <span class="inline-block w-4 h-1 mx-1 bg-blue-600 rounded"></span>
          <span class="inline-block w-2 h-1 bg-blue-600 rounded"></span>
        </div>

        <div id="best-treks-grid" class="grid grid-cols-1 sm:grid-cols-2 md:pl-20 md:pr-20  gap-6 md:gap-8">
          <!-- Trek cards will be injected here by JavaScript -->
        </div>
        <div id="loading-best-treks" class="text-center text-gray-600 py-8">
            <i class="fas fa-spinner fa-spin fa-2x"></i>
            <p class="mt-2">Loading best treks...</p>
        </div>
         <div class="text-center mt-12">
            <a href="nepal-activities-by-category.html?category=trekking_trips"
               class="bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-3 px-8 rounded-lg text-lg shadow-md transform hover:scale-105 transition-all duration-300">
                View All Trekking Trips
            </a>
        </div>
      </div>
    </section>




    <section id="best-selling-tours" class="py-16 md:py-24 bg-gray-50"> 
      <div class="container mx-auto px-6">
        <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-800 uppercase tracking-wider">
          OUR BEST SELLING
        </h2>
        <h3 class="text-4xl md:text-5xl font-bold text-center mb-4 text-gray-800">
          TOURS
        </h3>
        <div class="flex justify-center mb-12 md:mb-16">
          <span class="inline-block w-20 h-1 bg-orange-500 rounded"></span>
          <span class="inline-block w-4 h-1 mx-1 bg-orange-500 rounded"></span>
          <span class="inline-block w-2 h-1 bg-orange-500 rounded"></span>
        </div>

        <div id="best-tours-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8">
          <!-- Tour cards will be injected here by JavaScript -->
        </div>
        <div id="loading-best-tours" class="text-center text-gray-600 py-8">
            <i class="fas fa-spinner fa-spin fa-2x"></i>
            <p class="mt-2">Loading best selling tours...</p>
        </div>
         <div class="text-center mt-12">
            <a href="nepal-activities-by-category.html?category=package_tours"
               class="bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-3 px-8 rounded-lg text-lg shadow-md transform hover:scale-105 transition-all duration-300">
                View All Package Tours
            </a>
        </div>
      </div>
    </section>






















    <main>
      <!-- 2. Destinations Section -->
      <section id="destinations" class="py-16 md:py-24 bg-gray-50">
        <div class="container mx-auto px-6">
          <h2
            class="text-4xl md:text-5xl font-bold text-center mb-6 text-gray-800"
          >
            Popular Destinations
          </h2>
          <p class="text-center text-gray-600 mb-12 md:mb-16 max-w-2xl mx-auto">
            Discover iconic treks in the heart of the world's highest mountains.
            Each journey promises adventure and awe.
          </p>
          <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10"
          >
            <!-- Destination 1: Nepal -->
            <div
  class="category-card bg-white rounded-xl shadow-lg overflow-hidden group flex flex-col transform transition-all duration-300 ease-out hover:shadow-xl hover:-translate-y-1.5"
  style="min-height: 480px;" 
>
  <!-- Image Container with slight rounded top corners inherited if card has overflow-hidden -->
  <div class="relative w-full overflow-hidden">
    <img
      src="https://images.pexels.com/photos/618833/pexels-photo-618833.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
      alt="Everest Base Camp Trek, Nepal"
      class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out"
      loading="lazy"
    />
    <!-- Optional: Subtle gradient overlay at the bottom of the image for text readability if text was ON the image
    <div class="absolute bottom-0 left-0 right-0 h-1/4 bg-gradient-to-t from-black/50 to-transparent"></div>
    -->
  </div>

  <!-- Content Area -->
  <div class="p-6 flex flex-col flex-grow">
    <h3 class="text-3xl text-center font-bold mb-4 text-gray-800 tracking-tight  transition-colors duration-300">
      Nepal
    </h3>

    <a
      href="nepal-categories.html"
      class=" inline-block w-full text-center bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-3 px-6 rounded-md shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 ease-in-out"
    >
      Explore Nepal Treks
      <i class="fas fa-arrow-right ml-2 opacity-75 group-hover:opacity-100 transition-opacity"></i>
    </a>
  </div>
</div>

<div
class="category-card bg-white rounded-xl shadow-lg overflow-hidden group flex flex-col transform transition-all duration-300 ease-out hover:shadow-xl hover:-translate-y-1.5"
style="min-height: 480px;" 
>
<!-- Image Container with slight rounded top corners inherited if card has overflow-hidden -->
<div class="relative w-full overflow-hidden">
  <img
    src="https://images.pexels.com/photos/618833/pexels-photo-618833.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
    alt="Everest Base Camp Trek, Nepal"
    class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out"
    loading="lazy"
  />
  <!-- Optional: Subtle gradient overlay at the bottom of the image for text readability if text was ON the image
  <div class="absolute bottom-0 left-0 right-0 h-1/4 bg-gradient-to-t from-black/50 to-transparent"></div>
  -->
</div>

<!-- Content Area -->
<div class="p-6 flex flex-col flex-grow">
  <h3 class="text-3xl text-center font-bold mb-4 text-gray-800 tracking-tight  transition-colors duration-300">
    Bhutan
  </h3>

  <a
    href="nepal-categories.html"
    class=" inline-block w-full text-center bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-3 px-6 rounded-md shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 ease-in-out"
  >
    Explore Bhutan Treks
    <i class="fas fa-arrow-right ml-2 opacity-75 group-hover:opacity-100 transition-opacity"></i>
  </a>
</div>
</div>
<div
class="category-card bg-white rounded-xl shadow-lg overflow-hidden group flex flex-col transform transition-all duration-300 ease-out hover:shadow-xl hover:-translate-y-1.5"
style="min-height: 480px;" 
>
<!-- Image Container with slight rounded top corners inherited if card has overflow-hidden -->
<div class="relative w-full overflow-hidden">
  <img
    src="https://images.pexels.com/photos/618833/pexels-photo-618833.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
    alt="Everest Base Camp Trek, Nepal"
    class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out"
    loading="lazy"
  />
  <!-- Optional: Subtle gradient overlay at the bottom of the image for text readability if text was ON the image
  <div class="absolute bottom-0 left-0 right-0 h-1/4 bg-gradient-to-t from-black/50 to-transparent"></div>
  -->
</div>

<!-- Content Area -->
<div class="p-6 flex flex-col flex-grow">
  <h3 class="text-3xl text-center font-bold mb-4 text-gray-800 tracking-tight  transition-colors duration-300">
    Tibet
  </h3>

  <a
    href="nepal-categories.html"
    class=" inline-block w-full text-center bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-3 px-6 rounded-md shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 ease-in-out"
  >
    Explore Tibet Treks
    <i class="fas fa-arrow-right ml-2 opacity-75 group-hover:opacity-100 transition-opacity"></i>
  </a>
</div>
</div>
            </div>
          </div>
        </div>
      </section>

      <!-- 3. Customer Reviews Section -->
      <section id="reviews" class="py-16 md:py-24 bg-gray-100">
        <div class="container mx-auto px-6">
          <h2
            class="text-4xl md:text-5xl font-bold text-center mb-6 text-gray-800"
          >
            What Our Trekkers Say
          </h2>
          <p class="text-center text-gray-600 mb-12 md:mb-16 max-w-2xl mx-auto">
            Hear from fellow adventurers who've experienced the magic of the
            Himalayas with us.
          </p>
          <!-- For a real slider, use SwiperJS or similar. This is a scrollable container. -->
          <div
            class="flex overflow-x-auto space-x-6 pb-8 scrollbar-thin -mx-6 px-6"
          >
            <!-- Review 1 -->
            <div
              class="flex-shrink-0 w-full sm:w-[450px] bg-white p-8 rounded-xl shadow-lg transform hover:shadow-xl transition-shadow duration-300"
            >
              <div class="flex items-center mb-4">
                <img
                  src="https://randomuser.me/api/portraits/men/32.jpg"
                  alt="Alex Johnson"
                  class="w-16 h-16 rounded-full mr-4 border-2 border-yellow-400"
                  loading="lazy"
                />
                <div>
                  <p class="font-semibold text-lg text-gray-800">
                    Alex Johnson
                  </p>
                  <p class="text-gray-500 text-sm">USA</p>
                </div>
              </div>
              <div class="flex items-center mb-3">
                <span class="text-yellow-500 text-xl">★★★★★</span>
                <span class="ml-2 text-gray-600 text-sm">(5.0)</span>
              </div>
              <p class="text-gray-700 italic mb-3 leading-relaxed">
                "An absolutely breathtaking experience! The guides were
                fantastic, and the views from Everest Base Camp were surreal.
                Highly recommended!"
              </p>
              <p class="text-sm text-blue-600 font-medium">
                Trek:
                <span class="font-normal text-gray-700">Everest Base Camp</span>
              </p>
            </div>

            <!-- Review 2 -->
            <div
              class="flex-shrink-0 w-full sm:w-[450px] bg-white p-8 rounded-xl shadow-lg transform hover:shadow-xl transition-shadow duration-300"
            >
              <div class="flex items-center mb-4">
                <img
                  src="https://randomuser.me/api/portraits/women/44.jpg"
                  alt="Maria Garcia"
                  class="w-16 h-16 rounded-full mr-4 border-2 border-yellow-400"
                  loading="lazy"
                />
                <div>
                  <p class="font-semibold text-lg text-gray-800">
                    Maria Garcia
                  </p>
                  <p class="text-gray-500 text-sm">Spain</p>
                </div>
              </div>
              <div class="flex items-center mb-3">
                <span class="text-yellow-500 text-xl">★★★★</span
                ><span class="text-gray-400 text-xl">★</span>
                <span class="ml-2 text-gray-600 text-sm">(4.0)</span>
              </div>
              <p class="text-gray-700 italic mb-3 leading-relaxed">
                "The Annapurna Circuit was challenging but so rewarding. The
                landscapes changed daily. The organization was top-notch."
              </p>
              <p class="text-sm text-blue-600 font-medium">
                Trek:
                <span class="font-normal text-gray-700"
                  >Annapurna Circuit, Nepal</span
                >
              </p>
            </div>

            <!-- Review 3 -->
            <div
              class="flex-shrink-0 w-full sm:w-[450px] bg-white p-8 rounded-xl shadow-lg transform hover:shadow-xl transition-shadow duration-300"
            >
              <div class="flex items-center mb-4">
                <img
                  src="https://randomuser.me/api/portraits/men/75.jpg"
                  alt="Ken Watanabe"
                  class="w-16 h-16 rounded-full mr-4 border-2 border-yellow-400"
                  loading="lazy"
                />
                <div>
                  <p class="font-semibold text-lg text-gray-800">
                    Ken Watanabe
                  </p>
                  <p class="text-gray-500 text-sm">Japan</p>
                </div>
              </div>
              <div class="flex items-center mb-3">
                <span class="text-yellow-500 text-xl">★★★★★</span>
                <span class="ml-2 text-gray-600 text-sm">(5.0)</span>
              </div>
              <p class="text-gray-700 italic mb-3 leading-relaxed">
                "Bhutan was like stepping into another world. The Tiger's Nest
                trek was spiritual. Our guide shared so much about the culture."
              </p>
              <p class="text-sm text-blue-600 font-medium">
                Trek:
                <span class="font-normal text-gray-700"
                  >Tiger's Nest, Bhutan</span
                >
              </p>
            </div>
            <!-- Review 4 -->
            <div
              class="flex-shrink-0 w-full sm:w-[450px] bg-white p-8 rounded-xl shadow-lg transform hover:shadow-xl transition-shadow duration-300"
            >
              <div class="flex items-center mb-4">
                <img
                  src="https://randomuser.me/api/portraits/women/22.jpg"
                  alt="Sophie Müller"
                  class="w-16 h-16 rounded-full mr-4 border-2 border-yellow-400"
                  loading="lazy"
                />
                <div>
                  <p class="font-semibold text-lg text-gray-800">
                    Sophie Müller
                  </p>
                  <p class="text-gray-500 text-sm">Germany</p>
                </div>
              </div>
              <div class="flex items-center mb-3">
                <span class="text-yellow-500 text-xl">★★★★★</span>
                <span class="ml-2 text-gray-600 text-sm">(5.0)</span>
              </div>
              <p class="text-gray-700 italic mb-3 leading-relaxed">
                "The trek around Manaslu was an incredible off-the-beaten-path
                adventure. Fewer crowds and truly wild scenery. Himalayan Peaks
                team was excellent."
              </p>
              <p class="text-sm text-blue-600 font-medium">
                Trek:
                <span class="font-normal text-gray-700"
                  >Manaslu Circuit, Nepal</span
                >
              </p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- 4. Footer Section -->
    <footer id="contact" class="bg-gray-900 text-gray-400 py-16">
      <div class="container mx-auto px-6">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10">
          <!-- Column 1: Company Info & Social Media -->
          <div>
            <h4 class="text-xl font-semibold text-white mb-4">
              Himalayan<span class="text-yellow-400">Peaks</span>
            </h4>
            <p class="text-sm mb-4 leading-relaxed">
              Your trusted partner for extraordinary trekking adventures in the
              Himalayas. We're passionate about creating lifelong memories.
            </p>
            <div class="flex space-x-4">
              <a
                href="#"
                class="text-gray-400 hover:text-yellow-400 transition-colors"
                ><i class="fab fa-facebook-f fa-lg"></i
              ></a>
              <a
                href="#"
                class="text-gray-400 hover:text-yellow-400 transition-colors"
                ><i class="fab fa-instagram fa-lg"></i
              ></a>
              <a
                href="#"
                class="text-gray-400 hover:text-yellow-400 transition-colors"
                ><i class="fab fa-twitter fa-lg"></i
              ></a>
              <a
                href="#"
                class="text-gray-400 hover:text-yellow-400 transition-colors"
                ><i class="fab fa-youtube fa-lg"></i
              ></a>
            </div>
          </div>

          <!-- Column 2: Quick Links -->
         <!-- Column: ACTIVITIES -->
<div>
  <h4 class="text-lg font-semibold text-white mb-4">ACTIVITIES</h4>
  <ul class="space-y-2 text-sm">
    <li>
      <a href="/nepal-activities-by-category.html?category=trekking_trips" class="hover:text-yellow-400 transition-colors">
        Trekking
      </a>
    </li>
    <li>
      <a href="/nepal-activities-by-category.html?category=peak_climbing" class="hover:text-yellow-400 transition-colors">
        Climbing
      </a>
    </li>
    <li>
      <a href="/nepal-activities-by-category.html?category=package_tours" class="hover:text-yellow-400 transition-colors">
        Tours
      </a>
    </li>
   
    <li>
      <a href="/nepal-activities-by-category.html?category=helicopter_tours" class="hover:text-yellow-400 transition-colors">
        Helicopter Tours
      </a>
    </li>
    
  </ul>
</div>

          <!-- Column 3: Contact Information -->
          <div>
            <h4 class="text-lg font-semibold text-white mb-4">Contact Us</h4>
            <address class="text-sm not-italic space-y-2">
              <p>
                <i class="fas fa-map-marker-alt mr-2 text-yellow-400"></i>123
                Mountain View Rd, Kathmandu, Nepal
              </p>
              <p>
                <i class="fas fa-phone mr-2 text-yellow-400"></i
                ><a
                  href="tel:+97712345678"
                  class="hover:text-yellow-400 transition-colors"
                  >+977 123 45678</a
                >
              </p>
              <p>
                <i class="fas fa-envelope mr-2 text-yellow-400"></i
                ><a
                  href="mailto:info@himalayanpeaks.com"
                  class="hover:text-yellow-400 transition-colors"
                  >info@himalayanpeaks.com</a
                >
              </p>
            </address>
          </div>

          <!-- Column 4: Newsletter Subscription -->
          <div>
            <h4 class="text-lg font-semibold text-white mb-4">Stay Updated</h4>
            <p class="text-sm mb-3">
              Subscribe to our newsletter for the latest treks and offers.
            </p>
            <form action="#" method="POST">
              <div class="flex">
                <input
                  type="email"
                  name="email"
                  placeholder="Your Email"
                  class="w-full px-4 py-2 text-gray-800 rounded-l-md focus:outline-none focus:ring-2 focus:ring-yellow-500"
                  required
                />
                <button
                  type="submit"
                  class="bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-semibold px-4 py-2 rounded-r-md transition-colors"
                >
                  <i class="fas fa-paper-plane"></i>
                </button>
              </div>
            </form>
          </div>
        </div>

        <div class="mt-12 pt-8 border-t border-gray-700 text-center">
          <div class="mb-4">
            <p class="text-sm">We Accept:</p>
            <div class="flex justify-center space-x-4 mt-2">
              <!-- Replace with actual icons -->
              <i
                class="fab fa-cc-visa fa-2x hover:text-yellow-400 transition-colors"
              ></i>
              <i
                class="fab fa-cc-mastercard fa-2x hover:text-yellow-400 transition-colors"
              ></i>
              <i
                class="fab fa-cc-paypal fa-2x hover:text-yellow-400 transition-colors"
              ></i>
              <i
                class="fab fa-cc-amex fa-2x hover:text-yellow-400 transition-colors"
              ></i>
            </div>
          </div>
          <p class="text-sm">
            © <span id="currentYear"></span> HimalayanPeaks. All rights
            reserved. Crafted with <i class="fas fa-heart text-red-500"></i> for
            adventurers.
          </p>
        </div>
      </div>
    </footer>

    <script>
      // Smooth scroll for anchor links (alternative to CSS `scroll-behavior: smooth;`)
      // document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      //     anchor.addEventListener('click', function (e) {
      //         e.preventDefault();
      //         document.querySelector(this.getAttribute('href')).scrollIntoView({
      //             behavior: 'smooth'
      //         });
      //     });
      // });

      // Mobile menu toggle
      const mobileMenuButton = document.getElementById("mobile-menu-button");
      const mobileMenu = document.getElementById("mobile-menu");
      mobileMenuButton.addEventListener("click", () => {
        mobileMenu.classList.toggle("hidden");
      });
      // Close mobile menu when a link is clicked
      mobileMenu.querySelectorAll("a").forEach((link) => {
        link.addEventListener("click", () => {
          mobileMenu.classList.add("hidden");
        });
      });

      

      // Set current year in footer
      document.getElementById("currentYear").textContent =
        new Date().getFullYear();

      // Simple intersection observer for fade-in animations on scroll (optional)
      const sections = document.querySelectorAll(".fade-in-section"); // Or target broader sections like <section>
      const observerOptions = {
        root: null, // relative to document viewport
        rootMargin: "0px",
        threshold: 0.1, // 10% of the item is visible
      };

      const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = 1;
            entry.target.style.transform = "translateY(0)";
            // observer.unobserve(entry.target); // Optional: stop observing after animation
          }
          // Optional: to re-trigger animation if scrolling up and down
          // else {
          //     entry.target.style.opacity = 0;
          //     entry.target.style.transform = 'translateY(20px)';
          // }
        });
      }, observerOptions);

      sections.forEach((section) => {
        // Initial state for JS-driven animation
        section.style.opacity = "0";
        section.style.transform = "translateY(20px)";
        section.style.transition =
          "opacity 0.8s ease-out, transform 0.8s ease-out";
        observer.observe(section);
      });

      // Apply animation to destination cards and review cards on scroll
      const animatedCards = document.querySelectorAll(
        "#destinations .group, #reviews .flex-shrink-0"
      );
      animatedCards.forEach((card, index) => {
        card.style.opacity = "0";
        card.style.transform = "translateY(30px)";
        card.style.transition = `opacity 0.6s ease-out ${
          index * 0.1
        }s, transform 0.6s ease-out ${index * 0.1}s`;
        observer.observe(card);
      });


      // ... (keep your existing script for mobile menu, current year, observers, etc.) ...

// --- Function to create a "Best Trek" card (STYLE MATCHING IMAGE) ---
function createBestTrekCardFromData(trekData) {
    // trekData is expected to be an object like:
    // {
    //   name: "Everest Base Camp Trek",
    //   current_price: 1450,
    //   duration: "14 Day 13 Night",
    //   image_url: "url/to/image.jpg", // This will be the primary image for the card
    //   discount_percent: "6%", // Optional
    //   location: "Kathmandu", // Optional
    //   region_title: "Everest Region Trekking" // To build the detail link
    // }

    const trekDetailLink = `trek-detail.html?category=trekking_trips®ionTitle=${encodeURIComponent(trekData.region_title || 'Unknown Region')}&trekName=${encodeURIComponent(trekData.name)}`;

    const imageUrl = trekData.image_url || 'https://images.pexels.com/photos/572897/pexels-photo-572897.jpeg?auto=compress&cs=tinysrgb&w=300&h=200&dpr=1'; // Fallback image
    const locationText = trekData.location || trekData.region_title?.split(" ")[0] || "Himalayas";
    // Simple duration display, assuming format like "X Day Y Night" or "X-Y Days"
    let durationDisplay = trekData.duration;
    if (trekData.duration && trekData.duration.includes("Day") && trekData.duration.includes("Night")) {
        durationDisplay = trekData.duration; // Use as is if already formatted
    } else if (trekData.duration && trekData.duration.includes("-")) {
        const parts = trekData.duration.split('-');
        durationDisplay = `${parts[0].trim()} - ${parts[1].trim()}`;
    }


    return `
        <a href="${trekDetailLink}" class="best-trek-card block bg-white rounded-md shadow-md hover:shadow-lg transition-all duration-300 ease-out group flex flex-col overflow-hidden">
            <div class="relative h-48 sm:h-56 overflow-hidden">
                <img src="${imageUrl}"
                     alt="${trekData.name}"
                     class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
                     loading="lazy">
                ${trekData.discount_percent ? `
                    <span class="absolute top-3 left-3 bg-blue-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow-md">${trekData.discount_percent}</span>
                ` : ''}
                 <p class="absolute bottom-2 left-3 text-white text-lg font-bold drop-shadow-md">$${trekData.current_price}</p>
            </div>
            <div class="p-4 flex flex-col flex-grow">
                <p class="text-xs text-gray-500 mb-1 uppercase tracking-wider">${locationText}</p>
                <h4 class="text-md font-semibold text-gray-800 group-hover:text-yellow-600 mb-2 leading-tight h-12 overflow-hidden">
                    ${trekData.name}
                </h4>
                <p class="text-xs text-gray-500 mt-auto">${durationDisplay}</p>
            </div>
        </a>
    `;
}

// --- Function to load and display "Best Nepal Treks" from data.json ---
async function loadAndDisplayBestNepalTreks() {
    const bestTreksGrid = document.getElementById('best-treks-grid');
    const loadingDiv = document.getElementById('loading-best-treks');
    if (!bestTreksGrid || !loadingDiv) {
        console.error("Required elements for best treks not found.");
        return;
    }

    const MAX_BEST_TREKS_TO_SHOW = 8;

    try {
        const response = await fetch('data.json');
        if (!response.ok) throw new Error(`Failed to fetch data.json (status: ${response.status})`);
        const allData = await response.json();

        const trekkingCategoryObject = allData.find(cat => cat.hasOwnProperty('trekking_trips'));
        if (!trekkingCategoryObject || !trekkingCategoryObject.trekking_trips) {
            loadingDiv.innerHTML = '<p>Trekking trips data category not found in data.json.</p>';
            return;
        }

        let treksForDisplay = [];
        // Collect all treks from all trekking regions
        trekkingCategoryObject.trekking_trips.forEach(region => {
            if (region.available_treks) {
                region.available_treks.forEach(trek => {
                    // Add the region_title to each trek object for easier link generation
                    treksForDisplay.push({ ...trek, region_title: region.title, image_url: trek.image_url || region.image_url });
                });
            }
        });

        // If you want to ensure specific treks appear and have the discount/location,
        // you'd pre-populate them in data.json with those fields.
        // This simpler version just takes the first MAX_BEST_TREKS_TO_SHOW.
        // For a more "curated" list, you would filter/sort `treksForDisplay` here
        // based on some criteria (e.g., a "is_featured" flag in data.json)
        // or manually pick them like in the more complex previous example.

        // For this simplified version, let's just take the first few available.
        // To match the visual style, ensure these treks in your data.json have
        // 'discount_percent' and 'location' fields. If not, the card will adapt.
        const selectedTreks = treksForDisplay.slice(0, MAX_BEST_TREKS_TO_SHOW);

        if (selectedTreks.length > 0) {
            bestTreksGrid.innerHTML = selectedTreks.map(trekData => createBestTrekCardFromData(trekData)).join('');
            loadingDiv.style.display = 'none';

            // Optional: Re-apply IntersectionObserver to new cards if you use it for animations
            if (typeof observer !== 'undefined' && typeof observeNewBestTrekCards === 'function') {
                observeNewBestTrekCards(); // Assuming observeNewBestTrekCards is defined as in previous example
            }

        } else {
            loadingDiv.innerHTML = '<p>No trekking trips available to display at this moment.</p>';
        }

    } catch (error) {
        console.error("Error loading best Nepal treks:", error);
        loadingDiv.innerHTML = `<p>Could not load treks. ${error.message}</p>`;
    }
}

// Call the function when the DOM is loaded
document.addEventListener('DOMContentLoaded', loadAndDisplayBestNepalTreks);

// If you use the IntersectionObserver for fade-in animations,
// you might need a function like this to apply it to the newly added cards.
// Ensure 'observer' is your globally defined IntersectionObserver instance.
function observeNewBestTrekCards() {
    const newCards = document.querySelectorAll('#best-treks-grid .best-trek-card');
    newCards.forEach((card, index) => {
        card.style.opacity = "0";
        card.style.transform = "translateY(30px)";
        card.style.transition = `opacity 0.5s ease-out ${index * 0.08}s, transform 0.5s ease-out ${index * 0.08}s`;
        if (typeof observer !== 'undefined') { // Check if global observer is defined
             observer.observe(card);
        }
    });
}

// ... (existing script for mobile menu, current year, observers, best treks, etc.) ...

// --- Function to create a "Best Selling Tour" card (reuses similar structure) ---
// We can adapt the createBestTrekCardFromData or make a new one if parsing 'price_range' is different.
// For simplicity, let's adapt it slightly.
function createBestSellingTourCard(tourData) {
    // tourData is expected to be an object from package_tours:
    // {
    //   title: "Nepal Highlight Tour", (will be used as name)
    //   price_range: "$1200 - $1800",
    //   duration: "10-12 Days",
    //   image_url: "url/to/image.jpg",
    //   discount_percent: "10%", // Optional
    //   location: "Multi-city", // Optional
    // }

    // For tours, a detail page might be structured differently or not exist yet.
    // Let's link to the category page for now, or you can create a tour-detail.html later.
    const tourDetailLink = `nepal-activities-by-category.html?category=package_tours#${encodeURIComponent(tourData.title.replace(/\s+/g, '-'))}`;
    // OR if you create tour-detail.html:
    // const tourDetailLink = `tour-detail.html?category=package_tours&tourTitle=${encodeURIComponent(tourData.title)}`;


    const imageUrl = tourData.image_url || 'https://images.pexels.com/photos/2356045/pexels-photo-2356045.jpeg?auto=compress&cs=tinysrgb&w=300&h=200&dpr=1'; // Fallback image
    const locationText = tourData.location || "Multiple Locations";

    // Parse price_range to show "From $X" or the range.
    let priceDisplay = "Contact Us";
    if (tourData.price_range) {
        if (tourData.price_range.toLowerCase().includes("from")) {
            priceDisplay = tourData.price_range;
        } else if (tourData.price_range.includes("-")) {
            priceDisplay = `From $${tourData.price_range.split('-')[0].replace(/\$/g, '').trim()}`;
        } else if (tourData.price_range.match(/\d+/)) { // If just a number
             priceDisplay = `$${tourData.price_range.replace(/\$/g, '').trim()}`;
        }
    } else if (tourData.current_price) { // Fallback if it has current_price like treks
        priceDisplay = `$${tourData.current_price}`;
    }


    return `
        <a href="${tourDetailLink}" class="best-selling-tour-card block bg-white rounded-md shadow-md hover:shadow-lg transition-all duration-300 ease-out group flex flex-col overflow-hidden">
            <div class="relative h-48 sm:h-56 overflow-hidden">
                <img src="${imageUrl}"
                     alt="${tourData.title}"
                     class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
                     loading="lazy">
                ${tourData.discount_percent ? `
                    <span class="absolute top-3 left-3 bg-orange-500 text-white text-xs font-semibold px-3 py-1 rounded-full shadow-md">${tourData.discount_percent}</span>
                ` : ''}
                 <p class="absolute bottom-2 left-3 text-white text-lg font-bold drop-shadow-md">${priceDisplay}</p>
            </div>
            <div class="p-4 flex flex-col flex-grow">
                <p class="text-xs text-gray-500 mb-1 uppercase tracking-wider">${locationText}</p>
                <h4 class="text-md font-semibold text-gray-800 group-hover:text-orange-600 mb-2 leading-tight h-12 overflow-hidden">
                    ${tourData.title}
                </h4>
                <p class="text-xs text-gray-500 mt-auto">${tourData.duration}</p>
            </div>
        </a>
    `;
}


// --- Function to load and display "Best Selling Tours" from data.json ---
async function loadAndDisplayBestSellingTours() {
    const bestToursGrid = document.getElementById('best-tours-grid');
    const loadingToursDiv = document.getElementById('loading-best-tours');
    if (!bestToursGrid || !loadingToursDiv) {
        console.error("Required elements for best selling tours not found.");
        return;
    }

    const MAX_BEST_TOURS_TO_SHOW = 4; // Show 4 for this section, or adjust as needed

    try {
        const response = await fetch('data.json');
        if (!response.ok) throw new Error(`Failed to fetch data.json (status: ${response.status})`);
        const allData = await response.json();

        const packageToursCategoryObject = allData.find(cat => cat.hasOwnProperty('package_tours'));
        if (!packageToursCategoryObject || !packageToursCategoryObject.package_tours) {
            loadingToursDiv.innerHTML = '<p>Package tours data category not found in data.json.</p>';
            return;
        }

        let toursForDisplay = packageToursCategoryObject.package_tours;

        // To make this look like your image, ensure the tours in your data.json have
        // 'discount_percent' and 'location' fields.
        // This simplified version just takes the first MAX_BEST_TOURS_TO_SHOW.
        const selectedTours = toursForDisplay.slice(0, MAX_BEST_TOURS_TO_SHOW);

        if (selectedTours.length > 0) {
            bestToursGrid.innerHTML = selectedTours.map(tourData => createBestSellingTourCard(tourData)).join('');
            loadingToursDiv.style.display = 'none';

            // Optional: Re-apply IntersectionObserver to new cards
            if (typeof observer !== 'undefined' && typeof observeNewBestSellingTourCards === 'function') {
                observeNewBestSellingTourCards();
            }
        } else {
            loadingToursDiv.innerHTML = '<p>No best selling tours available to display at this moment.</p>';
        }

    } catch (error) {
        console.error("Error loading best selling tours:", error);
        loadingToursDiv.innerHTML = `<p>Could not load tours. ${error.message}</p>`;
    }
}

// Call the function when the DOM is loaded
document.addEventListener('DOMContentLoaded', loadAndDisplayBestSellingTours);

// If you use IntersectionObserver for animations, create a similar function for these cards
function observeNewBestSellingTourCards() {
    const newCards = document.querySelectorAll('#best-tours-grid .best-selling-tour-card');
    newCards.forEach((card, index) => {
        card.style.opacity = "0";
        card.style.transform = "translateY(30px)";
        card.style.transition = `opacity 0.5s ease-out ${index * 0.08}s, transform 0.5s ease-out ${index * 0.08}s`;
        if (typeof observer !== 'undefined') {
            observer.observe(card);
        }
    });
}
    </script>
  </body>
</html>
